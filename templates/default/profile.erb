# This file has been generated by Chef
# Local modifications of this file will be overwritten.
# (Unless of course, you stop the chef-client!)
RDECK_HTTP_PORT=<%= node['rundeck_server']['port']['http'] %>
RDECK_HTTPS_PORT=<%= node['rundeck_server']['port']['https'] %>

# If JAVA_HOME is set, then add it to home and set JAVA_CMD to use the version specified in that
# path.  JAVA_HOME can be set in the rundeck profile.  Or set in this file.
#JAVA_HOME=<path/to/JDK or JRE/install>

if [ ! -z $JAVA_HOME ]; then
	PATH=${PATH}:${JAVA_HOME}/bin
	export PATH
	JAVA_CMD=${JAVA_HOME}/bin/java
fi

export CLI_CP=$(find <%= node['rundeck_server']['basedir'] %>/cli -name \*.jar -printf %p:)
export BOOTSTRAP_CP=$(find <%= node['rundeck_server']['basedir'] %>/bootstrap -name \*.jar -printf %p:)

export RDECK_JVM=" \
<%- node['rundeck_server']['jvm'].sort.each do |key, value| -%>
<%- if value -%>
  <%= "-#{key}" %><%= "=#{value}" if value.is_a? String %> \
<%- end -%>
<%- end -%>"

if test -t 0 -a -z "${RUNDECK_CLI_TERSE}"
then
  RUNDECK_CLI_TERSE=true
  export RUNDECK_CLI_TERSE
fi

if test -n "${JRE_HOME}"
then
   unset JRE_HOME
fi

umask 002
